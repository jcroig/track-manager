(function($){$.fn.jyui=function(f,g){var h='http://yui.yahooapis.com/';settings=jQuery.extend({version:'3.0.0',autodetect:true,modules:[],components:[],type:'production',timeout:10000},f);return this.each(function(){var k,queue=[],opts={},yui_type=null,callback=null,yui_url='';if($.isFunction(f)){callback=f}else if($.isFunction(g)){callback=g}if(settings.type=='production'){yui_url='-min'}else if(settings.type=='debug'){yui_url='-debug'}yui_type=(parseInt(settings.version,10)<3)?'yahoo':'yui';$.ajaxSetup({dataType:'script',global:false,timeout:settings.timeout,type:'GET'});yui_url=h+settings.version+'/build/'+yui_type+'/'+yui_type+yui_url+'.js';if(yui_type==='yui'){if(settings.modules.length<=0){queue.push(yui_url)}else{for(k=0;k<settings.modules.length;k++){queue.push(settings.modules[k])}queue.unshift(yui_url)}}else{if(settings.components.length<=0){queue.push(yui_url)}else{for(k=0;k<settings.components.length;k++){queue.push({type:'jyui_comp',src:settings.components[k]})}queue.unshift({type:'loader',src:h+settings.version+'/build/yuiloader/yuiloader-min.js'});queue.unshift(yui_url)}}if(settings.autodetect||typeof(YUI)!=='function'||queue.length>0){if(typeof(queue[0])!=='object'||yui_type==='yahoo'){opts.url=queue[0];opts.complete=function(){if(yui_type==='yahoo'){$(function(){if(queue.length<=1){callback()}else{_finishLoad(queue,callback,yui_type)}})}else{YUI().use(function(Y){if(queue.length<=1){callback()}else{_finishLoad(queue,callback,yui_type)}})}};_get(opts)}else{for(i=0;i<queue.length;i++){opts.url=queue[i].src}}}else{callback()}});function _get(a){$.ajax(a)}function _getComponents(a){var b=[];for(var k=0;k<a.length;k++){if(typeof(a[k])==='object'&&a[k].type==='jyui_comp'){b.push(a[k].src)}}return b}function _finishLoad(a,b,c){for(var k=0;k<a.length;k++){var d={url:a[k].src};if(k==(a.length-1)){if(c==='yui'){d.complete=function(){YUI().use('*',function(Y){b()})}}}if(c==='yahoo'&&a[k].type==='loader'){var e=_getComponents(a);d.complete=function(){loader=new YAHOO.util.YUILoader({require:e,loadOptional:true,onSuccess:function(){b()},timeout:10000,combine:true});loader.insert()}}if(typeof(a[k])==='object'&&a[k].type!=='jyui_comp'){_get(d)}}}}})(jQuery);